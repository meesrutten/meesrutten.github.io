"use strict";var svg=d3.select("svg"),margin={top:40,right:20,bottom:30,left:110},width=+svg.attr("width")-margin.left-margin.right,height=+svg.attr("height")-margin.top-margin.bottom,x=d3.scaleBand().rangeRound([0,width]).padding(.05),y=d3.scaleLinear().rangeRound([height,0]),g=svg.append("g").attr("transform","translate("+margin.left+","+margin.top+")");d3.tsv("languages.tsv",function(t){return t.speakers=+t.speakers,t},function(t,a){if(t)throw t;x.domain(a.map(function(t){return t.language})),y.domain([0,d3.max(a,function(t){return t.speakers})]),g.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+height+")").call(d3.axisBottom(x)),g.append("g").attr("class","axis axis--y").call(d3.axisLeft(y).ticks(20)).append("text").attr("class","label").attr("y",-17).attr("x",-20).attr("dy","1em").text("speakers"),g.selectAll(".bar").data(a).enter().append("rect").attr("class","bar").attr("x",function(t){return x(t.language)}).attr("width",x.bandwidth()).attr("y",function(t){return y(0)}).attr("height",0).transition().ease(d3.easeElastic).duration(3e3).delay(100).attr("y",function(t){return y(t.speakers)}).attr("height",function(t){return height-y(t.speakers)})});